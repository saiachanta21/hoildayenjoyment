{"ast":null,"code":"import _asyncToGenerator from\"D:/entertainmentapp/entertainment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"D:/entertainmentapp/entertainment/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"D:\\\\entertainmentapp\\\\entertainment\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Chip}from\"@material-ui/core\";import axios from\"axios\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Genres=function Genres(_ref){var selectedGenres=_ref.selectedGenres,setSelectedGenres=_ref.setSelectedGenres,genres=_ref.genres,setGenres=_ref.setGenres,type=_ref.type,setPage=_ref.setPage;var handleAdd=function handleAdd(genre){setSelectedGenres([].concat(_toConsumableArray(selectedGenres),[genre]));setGenres(genres.filter(function(g){return g.id!==genre.id;}));setPage(1);};var handleRemove=function handleRemove(genre){setSelectedGenres(selectedGenres.filter(function(selected){return selected.id!==genre.id;}));setGenres([].concat(_toConsumableArray(genres),[genre]));setPage(1);};var fetchGenres=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/genre/\".concat(type,\"/list?api_key=74f5938285ff4cb9d571ebcf8646ab9c&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setGenres(data.genres);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchGenres(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchGenres();return function(){setGenres({});// unmounting\n};// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"6px 0\"},children:[selectedGenres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{style:{margin:2},label:genre.name,color:\"primary\",clickable:true,size:\"small\",onDelete:function onDelete(){return handleRemove(genre);}},genre.id);}),genres.map(function(genre){return/*#__PURE__*/_jsx(Chip,{style:{margin:2},label:genre.name,clickable:true,size:\"small\",onClick:function onClick(){return handleAdd(genre);}},genre.id);})]});};export default Genres;","map":{"version":3,"names":["Chip","axios","useEffect","Genres","selectedGenres","setSelectedGenres","genres","setGenres","type","setPage","handleAdd","genre","filter","g","id","handleRemove","selected","fetchGenres","get","data","padding","map","margin","name"],"sources":["D:/entertainmentapp/entertainment/src/components/Genres.js"],"sourcesContent":["import { Chip } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Genres = ({\r\n  selectedGenres,\r\n  setSelectedGenres,\r\n  genres,\r\n  setGenres,\r\n  type,\r\n  setPage,\r\n}) => {\r\n  const handleAdd = (genre) => {\r\n    setSelectedGenres([...selectedGenres, genre]);\r\n    setGenres(genres.filter((g) => g.id !== genre.id));\r\n    setPage(1);\r\n  };\r\n\r\n  const handleRemove = (genre) => {\r\n    setSelectedGenres(\r\n      selectedGenres.filter((selected) => selected.id !== genre.id)\r\n    );\r\n    setGenres([...genres, genre]);\r\n    setPage(1);\r\n  };\r\n\r\n  const fetchGenres = async () => {\r\n    const { data } = await axios.get(\r\n      `https://api.themoviedb.org/3/genre/${type}/list?api_key=74f5938285ff4cb9d571ebcf8646ab9c&language=en-US`\r\n    );\r\n    setGenres(data.genres);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchGenres();\r\n\r\n    return () => {\r\n      setGenres({}); // unmounting\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: \"6px 0\" }}>\r\n      {selectedGenres.map((genre) => (\r\n        <Chip\r\n          style={{ margin: 2 }}\r\n          label={genre.name}\r\n          key={genre.id}\r\n          color=\"primary\"\r\n          clickable\r\n          size=\"small\"\r\n          onDelete={() => handleRemove(genre)}\r\n        />\r\n      ))}\r\n      {genres.map((genre) => (\r\n        <Chip\r\n          style={{ margin: 2 }}\r\n          label={genre.name}\r\n          key={genre.id}\r\n          clickable\r\n          size=\"small\"\r\n          onClick={() => handleAdd(genre)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Genres;"],"mappings":"uXAAA,OAASA,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,OAA1B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAOT,IANJC,CAAAA,cAMI,MANJA,cAMI,CALJC,iBAKI,MALJA,iBAKI,CAJJC,MAII,MAJJA,MAII,CAHJC,SAGI,MAHJA,SAGI,CAFJC,IAEI,MAFJA,IAEI,CADJC,OACI,MADJA,OACI,CACJ,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3BN,iBAAiB,8BAAKD,cAAL,GAAqBO,KAArB,GAAjB,CACAJ,SAAS,CAACD,MAAM,CAACM,MAAP,CAAc,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASH,KAAK,CAACG,EAAtB,EAAd,CAAD,CAAT,CACAL,OAAO,CAAC,CAAD,CAAP,CACD,CAJD,CAMA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,KAAD,CAAW,CAC9BN,iBAAiB,CACfD,cAAc,CAACQ,MAAf,CAAsB,SAACI,QAAD,QAAcA,CAAAA,QAAQ,CAACF,EAAT,GAAgBH,KAAK,CAACG,EAApC,EAAtB,CADe,CAAjB,CAGAP,SAAS,8BAAKD,MAAL,GAAaK,KAAb,GAAT,CACAF,OAAO,CAAC,CAAD,CAAP,CACD,CAND,CAQA,GAAMQ,CAAAA,WAAW,2FAAG,mLACKhB,CAAAA,KAAK,CAACiB,GAAN,8CACiBV,IADjB,kEADL,uCACVW,IADU,kBACVA,IADU,CAIlBZ,SAAS,CAACY,IAAI,CAACb,MAAN,CAAT,CAJkB,sDAAH,kBAAXW,CAAAA,WAAW,2CAAjB,CAOAf,SAAS,CAAC,UAAM,CACde,WAAW,GAEX,MAAO,WAAM,CACXV,SAAS,CAAC,EAAD,CAAT,CAAe;AAChB,CAFD,CAGA;AACD,CAPQ,CAON,EAPM,CAAT,CASA,mBACE,aAAK,KAAK,CAAE,CAAEa,OAAO,CAAE,OAAX,CAAZ,WACGhB,cAAc,CAACiB,GAAf,CAAmB,SAACV,KAAD,qBAClB,KAAC,IAAD,EACE,KAAK,CAAE,CAAEW,MAAM,CAAE,CAAV,CADT,CAEE,KAAK,CAAEX,KAAK,CAACY,IAFf,CAIE,KAAK,CAAC,SAJR,CAKE,SAAS,KALX,CAME,IAAI,CAAC,OANP,CAOE,QAAQ,CAAE,0BAAMR,CAAAA,YAAY,CAACJ,KAAD,CAAlB,EAPZ,EAGOA,KAAK,CAACG,EAHb,CADkB,EAAnB,CADH,CAYGR,MAAM,CAACe,GAAP,CAAW,SAACV,KAAD,qBACV,KAAC,IAAD,EACE,KAAK,CAAE,CAAEW,MAAM,CAAE,CAAV,CADT,CAEE,KAAK,CAAEX,KAAK,CAACY,IAFf,CAIE,SAAS,KAJX,CAKE,IAAI,CAAC,OALP,CAME,OAAO,CAAE,yBAAMb,CAAAA,SAAS,CAACC,KAAD,CAAf,EANX,EAGOA,KAAK,CAACG,EAHb,CADU,EAAX,CAZH,GADF,CAyBD,CA/DD,CAiEA,cAAeX,CAAAA,MAAf"},"metadata":{},"sourceType":"module"}