{"ast":null,"code":"import _asyncToGenerator from\"D:/entertainmentapp/entertainment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/entertainmentapp/entertainment/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\entertainmentapp\\\\entertainment\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import Genres from\"../../components/Genres\";import SingleContent from\"../../components/SingleContent/SingleContent\";import CustomPagination from\"../../components/Pagination/CustomPagination\";import useGenre from\"../../hooks/useGenres\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movies=function Movies(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),genres=_useState2[0],setGenres=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedGenres=_useState4[0],setSelectedGenres=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),numOfPages=_useState10[0],setNumOfPages=_useState10[1];var genreforURL=useGenre(selectedGenres);// console.log(selectedGenres);\nvar fetchMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/discover/movie?api_key=74f5938285ff4cb9d571ebcf8646ab9c&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=\".concat(page,\"&with_genres=\").concat(genreforURL));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContent(data.results);setNumOfPages(data.total_pages);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchMovies(){return _ref.apply(this,arguments);};}();useEffect(function(){window.scroll(0,0);fetchMovies();// eslint-disable-next-line\n},[genreforURL,page]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"pageTitle\",children:\"Discover Movies\"}),/*#__PURE__*/_jsx(Genres,{type:\"movie\",selectedGenres:selectedGenres,setSelectedGenres:setSelectedGenres,genres:genres,setGenres:setGenres,setPage:setPage}),/*#__PURE__*/_jsx(\"div\",{className:\"trending\",children:content&&content.map(function(c){return/*#__PURE__*/_jsx(SingleContent,{id:c.id,poster:c.poster_path,title:c.title||c.name,date:c.first_air_date||c.release_date,media_type:\"movie\",vote_average:c.vote_average},c.id);})}),numOfPages>1&&/*#__PURE__*/_jsx(CustomPagination,{setPage:setPage,numOfPages:10000})]});};export default Movies;","map":{"version":3,"names":["axios","useEffect","useState","Genres","SingleContent","CustomPagination","useGenre","Movies","genres","setGenres","selectedGenres","setSelectedGenres","page","setPage","content","setContent","numOfPages","setNumOfPages","genreforURL","fetchMovies","get","data","results","total_pages","window","scroll","map","c","id","poster_path","title","name","first_air_date","release_date","vote_average"],"sources":["D:/entertainmentapp/entertainment/src/Pages/Movies/Movies.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Genres from \"../../components/Genres\";\r\nimport SingleContent from \"../../components/SingleContent/SingleContent\";\r\nimport CustomPagination from \"../../components/Pagination/CustomPagination\";\r\nimport useGenre from \"../../hooks/useGenres\";\r\n\r\nconst Movies = () => {\r\n  const [genres, setGenres] = useState([]);\r\n  const [selectedGenres, setSelectedGenres] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [content, setContent] = useState([]);\r\n  const [numOfPages, setNumOfPages] = useState();\r\n  const genreforURL = useGenre(selectedGenres);\r\n  // console.log(selectedGenres);\r\n\r\n  const fetchMovies = async () => {\r\n    const { data } = await axios.get(\r\n      `https://api.themoviedb.org/3/discover/movie?api_key=74f5938285ff4cb9d571ebcf8646ab9c&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=${page}&with_genres=${genreforURL}`\r\n    );\r\n    setContent(data.results);\r\n    setNumOfPages(data.total_pages);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scroll(0, 0);\r\n    fetchMovies();\r\n    // eslint-disable-next-line\r\n  }, [genreforURL, page]);\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"pageTitle\">Discover Movies</span>\r\n      <Genres\r\n        type=\"movie\"\r\n        selectedGenres={selectedGenres}\r\n        setSelectedGenres={setSelectedGenres}\r\n        genres={genres}\r\n        setGenres={setGenres}\r\n        setPage={setPage}\r\n      />\r\n      <div className=\"trending\">\r\n        {content &&\r\n          content.map((c) => (\r\n            <SingleContent\r\n              key={c.id}\r\n              id={c.id}\r\n              poster={c.poster_path}\r\n              title={c.title || c.name}\r\n              date={c.first_air_date || c.release_date}\r\n              media_type=\"movie\"\r\n              vote_average={c.vote_average}\r\n            />\r\n          ))}\r\n      </div>\r\n      {numOfPages > 1 && (\r\n        <CustomPagination setPage={setPage} numOfPages={10000} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movies;"],"mappings":"+WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,8CAA1B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,8CAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAA4BL,QAAQ,CAAC,EAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,eAA4CP,QAAQ,CAAC,EAAD,CAApD,yCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,eAAwBT,QAAQ,CAAC,CAAD,CAAhC,yCAAOU,IAAP,eAAaC,OAAb,eACA,eAA8BX,QAAQ,CAAC,EAAD,CAAtC,yCAAOY,OAAP,eAAgBC,UAAhB,eACA,eAAoCb,QAAQ,EAA5C,0CAAOc,UAAP,gBAAmBC,aAAnB,gBACA,GAAMC,CAAAA,WAAW,CAAGZ,QAAQ,CAACI,cAAD,CAA5B,CACA;AAEA,GAAMS,CAAAA,WAAW,0FAAG,mLACKnB,CAAAA,KAAK,CAACoB,GAAN,oLACuJR,IADvJ,yBAC2KM,WAD3K,EADL,uCACVG,IADU,kBACVA,IADU,CAIlBN,UAAU,CAACM,IAAI,CAACC,OAAN,CAAV,CACAL,aAAa,CAACI,IAAI,CAACE,WAAN,CAAb,CALkB,sDAAH,kBAAXJ,CAAAA,WAAW,0CAAjB,CAQAlB,SAAS,CAAC,UAAM,CACduB,MAAM,CAACC,MAAP,CAAc,CAAd,CAAiB,CAAjB,EACAN,WAAW,GACX;AACD,CAJQ,CAIN,CAACD,WAAD,CAAcN,IAAd,CAJM,CAAT,CAMA,mBACE,oCACE,aAAM,SAAS,CAAC,WAAhB,6BADF,cAEE,KAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,cAAc,CAAEF,cAFlB,CAGE,iBAAiB,CAAEC,iBAHrB,CAIE,MAAM,CAAEH,MAJV,CAKE,SAAS,CAAEC,SALb,CAME,OAAO,CAAEI,OANX,EAFF,cAUE,YAAK,SAAS,CAAC,UAAf,UACGC,OAAO,EACNA,OAAO,CAACY,GAAR,CAAY,SAACC,CAAD,qBACV,KAAC,aAAD,EAEE,EAAE,CAAEA,CAAC,CAACC,EAFR,CAGE,MAAM,CAAED,CAAC,CAACE,WAHZ,CAIE,KAAK,CAAEF,CAAC,CAACG,KAAF,EAAWH,CAAC,CAACI,IAJtB,CAKE,IAAI,CAAEJ,CAAC,CAACK,cAAF,EAAoBL,CAAC,CAACM,YAL9B,CAME,UAAU,CAAC,OANb,CAOE,YAAY,CAAEN,CAAC,CAACO,YAPlB,EACOP,CAAC,CAACC,EADT,CADU,EAAZ,CAFJ,EAVF,CAwBGZ,UAAU,CAAG,CAAb,eACC,KAAC,gBAAD,EAAkB,OAAO,CAAEH,OAA3B,CAAoC,UAAU,CAAE,KAAhD,EAzBJ,GADF,CA8BD,CArDD,CAuDA,cAAeN,CAAAA,MAAf"},"metadata":{},"sourceType":"module"}